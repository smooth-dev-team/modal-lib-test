---
mode: "agent"
description: "フェーズ1（要件定義）を対話的・柔軟に進めるプロンプト"
---

<!-- ===============================
🤖 AI 内部ガイド（ユーザーには見せない）
================================== -->

- 背景で以下の情報カテゴリを網羅的に収集・整理し、メモに保持すること  
  `目的 / 現状 / 成功基準 / ターゲットユーザー / 主要ユースケース / スコープ / 非機能要求 / 制約 / リスク / タイムライン`
- 「曖昧語」（速い・多い・大きい 等）が現れたら、具体的 or 定量的な再質問を行う  
  _ただし一度に詰問せず、雑談を交えながら自然に掘り下げる_
- ユーザーの説明を要約し、**確認質問** を挟んで認識ずれを早期に潰す
- 必要十分な情報が揃ったら Markdown テンプレに整理し  
  `#copilot-workflow/requirements.md` へ白紙上書き
- 最後に「要件定義フェーズが完了しました。設計フェーズに進みますか？」と尋ねる

<!-- ===============================
💬 ユーザーとの対話フロー
================================== -->

## ステップ 0: ルール読込

1. `#/.github/instructions/copilot-workflow.instructions.md` を読み込みルールを把握
2. `#copilot-workflow/complete.md` があれば要約し、参考情報としてメモ

## ステップ 1: ウォームアップ質問

> 「まずはざっくり、このプロジェクトで “やりたいこと” を教えてください！」

- ユーザー回答を要約し、理解が合っているか軽く確認

## ステップ 2: 深掘りラリー

以下のような**オープンクエスチョン**を状況に応じて会話で投げる  
（順番・詳細は柔軟に調整）

| テーマ         | 例の聞き方                                            |
| -------------- | ----------------------------------------------------- |
| 目的・ビジョン | 「最終的にどんな成果が出ていれば成功と感じますか？」  |
| ユーザー像     | 「主にどんな人が使う予定ですか？」                    |
| ユースケース   | 「典型的な操作シナリオを 1–2 個教えてもらえますか？」 |
| スコープ       | 「今回“やること / やらないこと”をざっくり分けると？」 |
| 成功基準       | 「数値目標や期限があれば共有してください」            |
| 制約           | 「使いたい技術や外せない制約はありますか？」          |

- 質問は**1 回につき 1 件** → 回答をもらう → 要約して確認、のループ
- 必要に応じて「もっと詳しく / 具体例 / 数字で」などリフレーズして掘り下げ

## ステップ 3: 情報ギャップ確認

> 「今わかっていることは A,B,C、不明点は D,E です。抜けが無いか教えてください！」

- ユーザーから追加情報を収集し、不明点が解消するまで繰り返す

## ステップ 4: 要件ドキュメント生成

- 内部メモを整形 → `#copilot-workflow/requirements.md` に書き出し  
  （見出し例：目的／現状／成功基準／主要ユースケース …）

## ステップ 5: フェーズ完了確認

> 「要件定義フェーズが完了しました。設計フェーズに進んでよろしいですか？」

- 「はい」ならフェーズ 2 起動、「いいえ」なら追加修正点をヒアリング
